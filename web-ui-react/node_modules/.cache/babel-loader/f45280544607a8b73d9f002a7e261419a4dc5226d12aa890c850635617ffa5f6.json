{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PresetSection=_ref=>{let{presets,groups,selectedPresets,onSelectAllPresets,onSelectPreset,onBulkPresetAction,onShowAddPresetModal,onExecutePreset,onEditPreset,onDeletePreset}=_ref;const getTotalClientsInGroups=groupIds=>{if(!groups||!Array.isArray(groups))return 0;const clientSet=new Set();groupIds.forEach(groupId=>{const group=groups.find(g=>g.id===groupId);if(group&&group.client_ids){group.client_ids.forEach(clientId=>clientSet.add(clientId));}});return clientSet.size;};const getGroupNames=groupIds=>{if(!groups||!Array.isArray(groups))return'그룹 없음';return groupIds.map(groupId=>{const group=groups.find(g=>g.id===groupId);return group?group.name:'삭제된 그룹';}).join(', ');};// presets가 undefined인 경우 빈 배열로 처리\nconst safePresets=presets||[];const safeGroups=groups||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uCF58\\uD150\\uCE20 \\uD504\\uB9AC\\uC14B\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-with-text\",onClick:onShowAddPresetModal,children:\"\\u2795 \\uC0C8 \\uD504\\uB9AC\\uC14B\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bulk-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selection-info\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedPresets.size===safePresets.length&&safePresets.length>0,onChange:onSelectAllPresets}),\"\\uC804\\uCCB4 \\uC120\\uD0DD\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC120\\uD0DD\\uB41C \\uD504\\uB9AC\\uC14B: \",/*#__PURE__*/_jsx(\"span\",{children:selectedPresets.size}),\"\\uAC1C\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bulk-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-bulk\",onClick:()=>onBulkPresetAction('execute'),title:\"\\uC120\\uD0DD\\uB41C \\uD504\\uB9AC\\uC14B\\uB4E4 \\uC804\\uCCB4 \\uC2E4\\uD589\",children:\"\\u25B6\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-bulk\",onClick:()=>onBulkPresetAction('stop'),title:\"\\uC120\\uD0DD\\uB41C \\uD504\\uB9AC\\uC14B\\uB4E4 \\uC804\\uCCB4 \\uC815\\uC9C0\",children:\"\\u23F9\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-bulk\",onClick:()=>onBulkPresetAction('delete'),title:\"\\uC120\\uD0DD\\uB41C \\uD504\\uB9AC\\uC14B\\uB4E4 \\uC804\\uCCB4 \\uC0AD\\uC81C\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preset-grid\",children:safePresets.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:'1 / -1',textAlign:'center',padding:'40px',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',marginBottom:'8px'},children:\"\\uC544\\uC9C1 \\uC0DD\\uC131\\uB41C \\uD504\\uB9AC\\uC14B\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px'},children:\"\\uC0C8 \\uD504\\uB9AC\\uC14B \\uBC84\\uD2BC\\uC744 \\uD074\\uB9AD\\uD574\\uC11C \\uCCAB \\uBC88\\uC9F8 \\uD504\\uB9AC\\uC14B\\uC744 \\uB9CC\\uB4E4\\uC5B4\\uBCF4\\uC138\\uC694!\"})]}):safePresets.map(preset=>/*#__PURE__*/_jsxs(\"div\",{className:\"preset-card \".concat(preset.is_active?'active':''),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"preset-checkbox\",checked:selectedPresets.has(preset.id),onChange:()=>onSelectPreset(preset.id),onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsxs(\"div\",{className:\"preset-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"preset-name\",children:preset.name}),preset.description&&/*#__PURE__*/_jsx(\"div\",{className:\"preset-info\",children:preset.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"preset-info\",children:[\"\\uADF8\\uB8F9: \",getGroupNames(preset.group_ids||[])]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preset-info\",children:[(preset.group_ids||[]).length,\"\\uAC1C \\uADF8\\uB8F9, \",getTotalClientsInGroups(preset.group_ids||[]),\"\\uB300 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preset-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>onExecutePreset(preset.id),title:\"\\uC2E4\\uD589\",children:\"\\u25B6\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>onEditPreset(preset),title:\"\\uD3B8\\uC9D1\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>onDeletePreset(preset.id),title:\"\\uC0AD\\uC81C\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]},preset.id))})]});};export default PresetSection;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","PresetSection","_ref","presets","groups","selectedPresets","onSelectAllPresets","onSelectPreset","onBulkPresetAction","onShowAddPresetModal","onExecutePreset","onEditPreset","onDeletePreset","getTotalClientsInGroups","groupIds","Array","isArray","clientSet","Set","forEach","groupId","group","find","g","id","client_ids","clientId","add","size","getGroupNames","map","name","join","safePresets","safeGroups","className","children","onClick","type","checked","length","onChange","title","style","gridColumn","textAlign","padding","color","fontSize","marginBottom","preset","concat","is_active","has","e","stopPropagation","description","group_ids"],"sources":["D:/ProgramDevelop/switchboard-plus-v2/web-ui-react/src/components/PresetSection.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst PresetSection = ({ \r\n  presets, \r\n  groups, \r\n  selectedPresets, \r\n  onSelectAllPresets, \r\n  onSelectPreset, \r\n  onBulkPresetAction, \r\n  onShowAddPresetModal, \r\n  onExecutePreset, \r\n  onEditPreset, \r\n  onDeletePreset \r\n}) => {\r\n  const getTotalClientsInGroups = (groupIds) => {\r\n    if (!groups || !Array.isArray(groups)) return 0;\r\n    \r\n    const clientSet = new Set();\r\n    groupIds.forEach(groupId => {\r\n      const group = groups.find(g => g.id === groupId);\r\n      if (group && group.client_ids) {\r\n        group.client_ids.forEach(clientId => clientSet.add(clientId));\r\n      }\r\n    });\r\n    return clientSet.size;\r\n  };\r\n\r\n  const getGroupNames = (groupIds) => {\r\n    if (!groups || !Array.isArray(groups)) return '그룹 없음';\r\n    \r\n    return groupIds.map(groupId => {\r\n      const group = groups.find(g => g.id === groupId);\r\n      return group ? group.name : '삭제된 그룹';\r\n    }).join(', ');\r\n  };\r\n\r\n  // presets가 undefined인 경우 빈 배열로 처리\r\n  const safePresets = presets || [];\r\n  const safeGroups = groups || [];\r\n\r\n  return (\r\n    <div className=\"section\">\r\n      <h2 className=\"section-title\">\r\n        콘텐츠 프리셋\r\n        <button className=\"btn btn-secondary btn-with-text\" onClick={onShowAddPresetModal}>\r\n          ➕ 새 프리셋\r\n        </button>\r\n      </h2>\r\n      \r\n      {/* 프리셋 일괄 제어 UI */}\r\n      <div className=\"bulk-controls\">\r\n        <div className=\"selection-info\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              checked={selectedPresets.size === safePresets.length && safePresets.length > 0}\r\n              onChange={onSelectAllPresets}\r\n            />\r\n            전체 선택\r\n          </label>\r\n          <span>선택된 프리셋: <span>{selectedPresets.size}</span>개</span>\r\n        </div>\r\n        <div className=\"bulk-actions\">\r\n          <button \r\n            className=\"btn btn-primary btn-bulk\" \r\n            onClick={() => onBulkPresetAction('execute')} \r\n            title=\"선택된 프리셋들 전체 실행\"\r\n          >\r\n            ▶️\r\n          </button>\r\n          <button \r\n            className=\"btn btn-danger btn-bulk\" \r\n            onClick={() => onBulkPresetAction('stop')} \r\n            title=\"선택된 프리셋들 전체 정지\"\r\n          >\r\n            ⏹️\r\n          </button>\r\n          <button \r\n            className=\"btn btn-danger btn-bulk\" \r\n            onClick={() => onBulkPresetAction('delete')} \r\n            title=\"선택된 프리셋들 전체 삭제\"\r\n          >\r\n            🗑️\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"preset-grid\">\r\n        {safePresets.length === 0 ? (\r\n          <div style={{ gridColumn: '1 / -1', textAlign: 'center', padding: '40px', color: 'var(--text-muted)' }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>📝</div>\r\n            <div style={{ fontSize: '14px', marginBottom: '8px' }}>아직 생성된 프리셋이 없습니다</div>\r\n            <div style={{ fontSize: '12px' }}>새 프리셋 버튼을 클릭해서 첫 번째 프리셋을 만들어보세요!</div>\r\n          </div>\r\n        ) : (\r\n          safePresets.map(preset => (\r\n            <div key={preset.id} className={`preset-card ${preset.is_active ? 'active' : ''}`}>\r\n              <input \r\n                type=\"checkbox\" \r\n                className=\"preset-checkbox\" \r\n                checked={selectedPresets.has(preset.id)}\r\n                onChange={() => onSelectPreset(preset.id)}\r\n                onClick={(e) => e.stopPropagation()}\r\n              />\r\n              <div className=\"preset-content\">\r\n                <div className=\"preset-name\">{preset.name}</div>\r\n                {preset.description && <div className=\"preset-info\">{preset.description}</div>}\r\n                <div className=\"preset-info\">그룹: {getGroupNames(preset.group_ids || [])}</div>\r\n                <div className=\"preset-info\">\r\n                  {(preset.group_ids || []).length}개 그룹, {getTotalClientsInGroups(preset.group_ids || [])}대 클라이언트\r\n                </div>\r\n              </div>\r\n              <div className=\"preset-actions\">\r\n                <button \r\n                  className=\"btn btn-primary\" \r\n                  onClick={() => onExecutePreset(preset.id)} \r\n                  title=\"실행\"\r\n                >\r\n                  ▶️\r\n                </button>\r\n                <button \r\n                  className=\"btn btn-secondary\" \r\n                  onClick={() => onEditPreset(preset)} \r\n                  title=\"편집\"\r\n                >\r\n                  ✏️\r\n                </button>\r\n                <button \r\n                  className=\"btn btn-danger\" \r\n                  onClick={() => onDeletePreset(preset.id)} \r\n                  title=\"삭제\"\r\n                >\r\n                  🗑️\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PresetSection; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}