{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExecutionMonitor=_ref=>{let{executions,clients}=_ref;const formatRelativeTime=date=>{const now=new Date();const diff=now-new Date(date);const minutes=Math.floor(diff/60000);const hours=Math.floor(minutes/60);const days=Math.floor(hours/24);if(minutes<1)return'방금 전';if(minutes<60)return\"\".concat(minutes,\"\\uBD84 \\uC804\");if(hours<24)return\"\".concat(hours,\"\\uC2DC\\uAC04 \\uC804\");return\"\".concat(days,\"\\uC77C \\uC804\");};const getStatusText=status=>{const statusTexts={'pending':'대기 중','running':'실행 중','completed':'완료','failed':'실패','cancelled':'취소됨'};return statusTexts[status]||status;};const createExecutionHTML=execution=>{const duration=execution.completed_at?Math.round((new Date(execution.completed_at)-new Date(execution.started_at))/1000):Math.round((new Date()-new Date(execution.started_at))/1000);const successCount=Object.values(execution.results||{}).filter(r=>r==='success').length;const failedCount=Object.values(execution.results||{}).filter(r=>r==='failed').length;const runningCount=Object.values(execution.results||{}).filter(r=>r==='running').length;const progress=execution.status==='running'?Math.min(95,duration/30*100):100;return/*#__PURE__*/_jsxs(\"div\",{className:\"execution-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"execution-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:execution.preset_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"execution-details\",children:[\"ID: \",execution.id,\" | \\uC2DC\\uC791: \",new Date(execution.started_at).toLocaleTimeString('ko-KR'),execution.completed_at&&\" | \\uC644\\uB8CC: \".concat(new Date(execution.completed_at).toLocaleTimeString('ko-KR')),\"| \\uC18C\\uC694\\uC2DC\\uAC04: \",duration,\"\\uCD08\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"execution-status \".concat(execution.status),children:getStatusText(execution.status)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"execution-targets\",children:(execution.target_clients||[]).map(clientId=>{const client=clients.find(c=>c.id===clientId);const result=(execution.results||{})[clientId]||'pending';return/*#__PURE__*/_jsx(\"span\",{className:\"target-client \".concat(result),children:client?client.name:'Unknown'},clientId);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"execution-details\",children:[\"\\uC131\\uACF5: \",successCount,\"\\uAC1C | \\uC2E4\\uD328: \",failedCount,\"\\uAC1C | \\uC2E4\\uD589\\uC911: \",runningCount,\"\\uAC1C\"]}),execution.status==='running'&&/*#__PURE__*/_jsx(\"div\",{className:\"execution-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"execution-progress-bar\",style:{width:\"\".concat(progress,\"%\")}})})]},execution.id);};if(executions.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"execution-monitor\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uD504\\uB9AC\\uC14B \\uC2E4\\uD589 \\uD788\\uC2A4\\uD1A0\\uB9AC\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'var(--text-muted)',fontWeight:'normal'},children:\"\\uCD5C\\uADFC 10\\uAC1C \\uD45C\\uC2DC | \\uC790\\uB3D9 \\uC5C5\\uB370\\uC774\\uD2B8\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"execution-list\",children:executions.slice(0,10).map(execution=>createExecutionHTML(execution))})]});};export default ExecutionMonitor;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ExecutionMonitor","_ref","executions","clients","formatRelativeTime","date","now","Date","diff","minutes","Math","floor","hours","days","concat","getStatusText","status","statusTexts","createExecutionHTML","execution","duration","completed_at","round","started_at","successCount","Object","values","results","filter","r","length","failedCount","runningCount","progress","min","className","children","preset_name","id","toLocaleTimeString","target_clients","map","clientId","client","find","c","result","name","style","width","fontSize","color","fontWeight","slice"],"sources":["D:/ProgramDevelop/switchboard-plus-v2/web-ui-react/src/components/ExecutionMonitor.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst ExecutionMonitor = ({ executions, clients }) => {\r\n  const formatRelativeTime = (date) => {\r\n    const now = new Date();\r\n    const diff = now - new Date(date);\r\n    const minutes = Math.floor(diff / 60000);\r\n    const hours = Math.floor(minutes / 60);\r\n    const days = Math.floor(hours / 24);\r\n    \r\n    if (minutes < 1) return '방금 전';\r\n    if (minutes < 60) return `${minutes}분 전`;\r\n    if (hours < 24) return `${hours}시간 전`;\r\n    return `${days}일 전`;\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    const statusTexts = {\r\n      'pending': '대기 중',\r\n      'running': '실행 중',\r\n      'completed': '완료',\r\n      'failed': '실패',\r\n      'cancelled': '취소됨'\r\n    };\r\n    return statusTexts[status] || status;\r\n  };\r\n\r\n  const createExecutionHTML = (execution) => {\r\n    const duration = execution.completed_at ? \r\n      Math.round((new Date(execution.completed_at) - new Date(execution.started_at)) / 1000) : \r\n      Math.round((new Date() - new Date(execution.started_at)) / 1000);\r\n    \r\n    const successCount = Object.values(execution.results || {}).filter(r => r === 'success').length;\r\n    const failedCount = Object.values(execution.results || {}).filter(r => r === 'failed').length;\r\n    const runningCount = Object.values(execution.results || {}).filter(r => r === 'running').length;\r\n    \r\n    const progress = execution.status === 'running' ? \r\n      Math.min(95, (duration / 30) * 100) : 100;\r\n    \r\n    return (\r\n      <div key={execution.id} className=\"execution-item\">\r\n        <div className=\"execution-header\">\r\n          <div>\r\n            <strong>{execution.preset_name}</strong>\r\n            <div className=\"execution-details\">\r\n              ID: {execution.id} | 시작: {new Date(execution.started_at).toLocaleTimeString('ko-KR')}\r\n              {execution.completed_at && ` | 완료: ${new Date(execution.completed_at).toLocaleTimeString('ko-KR')}`}\r\n              | 소요시간: {duration}초\r\n            </div>\r\n          </div>\r\n          <span className={`execution-status ${execution.status}`}>\r\n            {getStatusText(execution.status)}\r\n          </span>\r\n        </div>\r\n        <div className=\"execution-targets\">\r\n          {(execution.target_clients || []).map(clientId => {\r\n            const client = clients.find(c => c.id === clientId);\r\n            const result = (execution.results || {})[clientId] || 'pending';\r\n            return (\r\n              <span key={clientId} className={`target-client ${result}`}>\r\n                {client ? client.name : 'Unknown'}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"execution-details\">\r\n          성공: {successCount}개 | 실패: {failedCount}개 | 실행중: {runningCount}개\r\n        </div>\r\n        {execution.status === 'running' && (\r\n          <div className=\"execution-progress\">\r\n            <div \r\n              className=\"execution-progress-bar\" \r\n              style={{ width: `${progress}%` }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (executions.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"execution-monitor\">\r\n      <h2 className=\"section-title\">\r\n        프리셋 실행 히스토리\r\n        <span style={{ fontSize: '12px', color: 'var(--text-muted)', fontWeight: 'normal' }}>\r\n          최근 10개 표시 | 자동 업데이트\r\n        </span>\r\n      </h2>\r\n      <div className=\"execution-list\">\r\n        {executions.slice(0, 10).map(execution => createExecutionHTML(execution))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExecutionMonitor; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAA6B,IAA5B,CAAEC,UAAU,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC/C,KAAM,CAAAG,kBAAkB,CAAIC,IAAI,EAAK,CACnC,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAC,IAAI,CAAGF,GAAG,CAAG,GAAI,CAAAC,IAAI,CAACF,IAAI,CAAC,CACjC,KAAM,CAAAI,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAG,KAAK,CAAC,CACxC,KAAM,CAAAI,KAAK,CAAGF,IAAI,CAACC,KAAK,CAACF,OAAO,CAAG,EAAE,CAAC,CACtC,KAAM,CAAAI,IAAI,CAAGH,IAAI,CAACC,KAAK,CAACC,KAAK,CAAG,EAAE,CAAC,CAEnC,GAAIH,OAAO,CAAG,CAAC,CAAE,MAAO,MAAM,CAC9B,GAAIA,OAAO,CAAG,EAAE,CAAE,SAAAK,MAAA,CAAUL,OAAO,kBACnC,GAAIG,KAAK,CAAG,EAAE,CAAE,SAAAE,MAAA,CAAUF,KAAK,wBAC/B,SAAAE,MAAA,CAAUD,IAAI,kBAChB,CAAC,CAED,KAAM,CAAAE,aAAa,CAAIC,MAAM,EAAK,CAChC,KAAM,CAAAC,WAAW,CAAG,CAClB,SAAS,CAAE,MAAM,CACjB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,CACjB,QAAQ,CAAE,IAAI,CACd,WAAW,CAAE,KACf,CAAC,CACD,MAAO,CAAAA,WAAW,CAACD,MAAM,CAAC,EAAIA,MAAM,CACtC,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAIC,SAAS,EAAK,CACzC,KAAM,CAAAC,QAAQ,CAAGD,SAAS,CAACE,YAAY,CACrCX,IAAI,CAACY,KAAK,CAAC,CAAC,GAAI,CAAAf,IAAI,CAACY,SAAS,CAACE,YAAY,CAAC,CAAG,GAAI,CAAAd,IAAI,CAACY,SAAS,CAACI,UAAU,CAAC,EAAI,IAAI,CAAC,CACtFb,IAAI,CAACY,KAAK,CAAC,CAAC,GAAI,CAAAf,IAAI,CAAC,CAAC,CAAG,GAAI,CAAAA,IAAI,CAACY,SAAS,CAACI,UAAU,CAAC,EAAI,IAAI,CAAC,CAElE,KAAM,CAAAC,YAAY,CAAGC,MAAM,CAACC,MAAM,CAACP,SAAS,CAACQ,OAAO,EAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAK,SAAS,CAAC,CAACC,MAAM,CAC/F,KAAM,CAAAC,WAAW,CAAGN,MAAM,CAACC,MAAM,CAACP,SAAS,CAACQ,OAAO,EAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAK,QAAQ,CAAC,CAACC,MAAM,CAC7F,KAAM,CAAAE,YAAY,CAAGP,MAAM,CAACC,MAAM,CAACP,SAAS,CAACQ,OAAO,EAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAK,SAAS,CAAC,CAACC,MAAM,CAE/F,KAAM,CAAAG,QAAQ,CAAGd,SAAS,CAACH,MAAM,GAAK,SAAS,CAC7CN,IAAI,CAACwB,GAAG,CAAC,EAAE,CAAGd,QAAQ,CAAG,EAAE,CAAI,GAAG,CAAC,CAAG,GAAG,CAE3C,mBACErB,KAAA,QAAwBoC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAChDrC,KAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BrC,KAAA,QAAAqC,QAAA,eACEvC,IAAA,WAAAuC,QAAA,CAASjB,SAAS,CAACkB,WAAW,CAAS,CAAC,cACxCtC,KAAA,QAAKoC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,MAC7B,CAACjB,SAAS,CAACmB,EAAE,CAAC,mBAAO,CAAC,GAAI,CAAA/B,IAAI,CAACY,SAAS,CAACI,UAAU,CAAC,CAACgB,kBAAkB,CAAC,OAAO,CAAC,CACnFpB,SAAS,CAACE,YAAY,sBAAAP,MAAA,CAAc,GAAI,CAAAP,IAAI,CAACY,SAAS,CAACE,YAAY,CAAC,CAACkB,kBAAkB,CAAC,OAAO,CAAC,CAAE,CAAC,8BAC5F,CAACnB,QAAQ,CAAC,QACpB,EAAK,CAAC,EACH,CAAC,cACNvB,IAAA,SAAMsC,SAAS,qBAAArB,MAAA,CAAsBK,SAAS,CAACH,MAAM,CAAG,CAAAoB,QAAA,CACrDrB,aAAa,CAACI,SAAS,CAACH,MAAM,CAAC,CAC5B,CAAC,EACJ,CAAC,cACNnB,IAAA,QAAKsC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/B,CAACjB,SAAS,CAACqB,cAAc,EAAI,EAAE,EAAEC,GAAG,CAACC,QAAQ,EAAI,CAChD,KAAM,CAAAC,MAAM,CAAGxC,OAAO,CAACyC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACP,EAAE,GAAKI,QAAQ,CAAC,CACnD,KAAM,CAAAI,MAAM,CAAG,CAAC3B,SAAS,CAACQ,OAAO,EAAI,CAAC,CAAC,EAAEe,QAAQ,CAAC,EAAI,SAAS,CAC/D,mBACE7C,IAAA,SAAqBsC,SAAS,kBAAArB,MAAA,CAAmBgC,MAAM,CAAG,CAAAV,QAAA,CACvDO,MAAM,CAAGA,MAAM,CAACI,IAAI,CAAG,SAAS,EADxBL,QAEL,CAAC,CAEX,CAAC,CAAC,CACC,CAAC,cACN3C,KAAA,QAAKoC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,gBAC7B,CAACZ,YAAY,CAAC,yBAAQ,CAACO,WAAW,CAAC,+BAAS,CAACC,YAAY,CAAC,QAChE,EAAK,CAAC,CACLb,SAAS,CAACH,MAAM,GAAK,SAAS,eAC7BnB,IAAA,QAAKsC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCvC,IAAA,QACEsC,SAAS,CAAC,wBAAwB,CAClCa,KAAK,CAAE,CAAEC,KAAK,IAAAnC,MAAA,CAAKmB,QAAQ,KAAI,CAAE,CAClC,CAAC,CACC,CACN,GAnCOd,SAAS,CAACmB,EAoCf,CAAC,CAEV,CAAC,CAED,GAAIpC,UAAU,CAAC4B,MAAM,GAAK,CAAC,CAAE,CAC3B,MAAO,KAAI,CACb,CAEA,mBACE/B,KAAA,QAAKoC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrC,KAAA,OAAIoC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,0DAE5B,cAAAvC,IAAA,SAAMmD,KAAK,CAAE,CAAEE,QAAQ,CAAE,MAAM,CAAEC,KAAK,CAAE,mBAAmB,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAhB,QAAA,CAAC,4EAErF,CAAM,CAAC,EACL,CAAC,cACLvC,IAAA,QAAKsC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BlC,UAAU,CAACmD,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACZ,GAAG,CAACtB,SAAS,EAAID,mBAAmB,CAACC,SAAS,CAAC,CAAC,CACtE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}