# Switchboard Plus v2.4 - ê¸°ë³¸ íŒŒì¼ ì „ì†¡ ì‹œìŠ¤í…œ

## ğŸ“‹ 1. ê°œìš”

**ë²„ì „**: v2.4  
**ëª©ì **: ë©€í‹° Display PC í™˜ê²½ì—ì„œ ê¸°ë³¸ì ì¸ íŒŒì¼ ì „ì†¡ ê¸°ëŠ¥ êµ¬í˜„  
**ì „ì œ ì¡°ê±´**: v2.0-v2.3 ì™„ì„± (nDisplay ì œì–´, ì „ì› ê´€ë¦¬, í”„ë¡œì í„° ì œì–´)  
**ê°œë°œ ê¸°ê°„**: 1ì£¼  

> ğŸ¯ **í•µì‹¬ ëª©í‘œ**: ì•ˆì •ì ì¸ ê¸°ë³¸ íŒŒì¼ ì „ì†¡ ì‹œìŠ¤í…œ êµ¬ì¶• + v2.5 ê³ ê¸‰ ê¸°ëŠ¥ì˜ ê¸°ë°˜ ë§ˆë ¨

---

## ğŸ¯ 2. í•µì‹¬ ê¸°ëŠ¥

### 2.1 ê¸°ë³¸ íŒŒì¼ ì „ì†¡
```
ğŸ“¤ ì—…ë¡œë“œ (ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸)
â”œâ”€â”€ ë‹¨ì¼ íŒŒì¼ ì „ì†¡
â”œâ”€â”€ í´ë” ì „ì²´ ì „ì†¡  
â”œâ”€â”€ ì„ íƒì  ì „ì†¡ (íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë§Œ)
â””â”€â”€ ì¼ê´„ ì „ì†¡ (ëª¨ë“  í´ë¼ì´ì–¸íŠ¸)

ğŸ“¥ ë‹¤ìš´ë¡œë“œ (í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„)
â”œâ”€â”€ ë¡œê·¸ íŒŒì¼ ìˆ˜ì§‘
â”œâ”€â”€ ìŠ¤í¬ë¦°ìƒ· ìˆ˜ì§‘
â”œâ”€â”€ ì„¤ì • íŒŒì¼ ë°±ì—…
â””â”€â”€ ì—ëŸ¬ ë¦¬í¬íŠ¸ ìˆ˜ì§‘
```

### 2.2 ê¸°ë³¸ íŒŒì¼ ê´€ë¦¬
```
ğŸ“ ì¤‘ì•™ ê´€ë¦¬
â”œâ”€â”€ íŒŒì¼ ëª©ë¡ ì¡°íšŒ
â”œâ”€â”€ ê¸°ë³¸ íŒŒì¼ ê²€ìƒ‰
â”œâ”€â”€ íŒŒì¼ ì‚­ì œ
â””â”€â”€ íŒŒì¼ ì´ë™/ë³µì‚¬
```

---

## ğŸ—ï¸ 3. ê¸°ìˆ  ì•„í‚¤í…ì²˜

### 3.1 ê¸°ë³¸ ì „ì†¡ í”„ë¡œí† ì½œ

```javascript
// HTTP ë©€í‹°íŒŒíŠ¸ (ê¸°ë³¸)
POST /api/files/upload
Content-Type: multipart/form-data

// ê¸°ë³¸ ì§„í–‰ë¥  ì‘ë‹µ
{
  "type": "file_transfer_progress", 
  "fileId": "uuid",
  "progress": 65.5,
  "status": "uploading"
}
```

### 3.2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

```sql
-- íŒŒì¼ ë©”íƒ€ë°ì´í„° (ê¸°ë³¸)
CREATE TABLE files (
    id INTEGER PRIMARY KEY,
    filename VARCHAR(255),
    filepath VARCHAR(500),
    filesize BIGINT,
    mime_type VARCHAR(100),
    created_at DATETIME,
    updated_at DATETIME
);

-- íŒŒì¼ ë¶„ì‚° ìƒíƒœ (ê¸°ë³¸)
CREATE TABLE file_distribution (
    id INTEGER PRIMARY KEY,
    file_id INTEGER,
    client_id INTEGER,
    local_path VARCHAR(500),
    status VARCHAR(20),           -- 'synced', 'pending', 'error'
    last_sync DATETIME,
    FOREIGN KEY (file_id) REFERENCES files(id),
    FOREIGN KEY (client_id) REFERENCES clients(id)
);

-- ì „ì†¡ ì‘ì—… í (ê¸°ë³¸)
CREATE TABLE transfer_jobs (
    id INTEGER PRIMARY KEY,
    job_type VARCHAR(20),         -- 'upload', 'download'
    file_id INTEGER,
    source_client_id INTEGER,
    target_client_ids JSON,      -- ëŒ€ìƒ í´ë¼ì´ì–¸íŠ¸ ë°°ì—´
    status VARCHAR(20),          -- 'pending', 'running', 'completed', 'failed'
    progress DECIMAL(5,2),
    error_message TEXT,
    created_at DATETIME,
    completed_at DATETIME,
    FOREIGN KEY (file_id) REFERENCES files(id)
);
```

### 3.3 í´ë¼ì´ì–¸íŠ¸ ê¸°ë³¸ ëª¨ë“ˆ

```python
# client/basic_file_manager.py
import os
import requests
from pathlib import Path

class BasicFileManager:
    def __init__(self, config):
        self.config = config
        self.server_url = config['server_url']
        self.base_path = config.get('file_base_path', './files')
        
    async def download_file(self, file_info, target_path):
        """ì„œë²„ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ê¸°ë³¸)"""
        file_id = file_info['id']
        url = f"{self.server_url}/api/files/{file_id}/download"
        
        with requests.get(url, stream=True) as response:
            response.raise_for_status()
            
            os.makedirs(os.path.dirname(target_path), exist_ok=True)
            
            with open(target_path, 'wb') as file:
                for chunk in response.iter_content(chunk_size=8192):
                    if chunk:
                        file.write(chunk)
    
    async def upload_file(self, local_path, remote_path):
        """ì„œë²„ë¡œ íŒŒì¼ ì—…ë¡œë“œ (ê¸°ë³¸)"""
        url = f"{self.server_url}/api/files/upload"
        
        with open(local_path, 'rb') as file:
            files = {'file': file}
            data = {'targetPath': remote_path}
            
            response = requests.post(url, files=files, data=data)
            response.raise_for_status()
            
            return response.json()
```

---

## ğŸ¨ 4. UI/UX ì„¤ê³„

### 4.1 ê¸°ë³¸ íŒŒì¼ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ

```jsx
// BasicFileManagerDashboard.jsx
function BasicFileManagerDashboard() {
  return (
    <Container>
      <Grid container spacing={3}>
        
        {/* íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ */}
        <Grid item xs={12}>
          <BasicFileUploadZone 
            onFilesSelected={handleFileUpload}
            maxSize="100MB"
            acceptedTypes={['.mp4', '.jpg', '.png', '.pdf', '.zip']}
          />
        </Grid>
        
        {/* ì „ì†¡ ìƒíƒœ ëª¨ë‹ˆí„°ë§ */}
        <Grid item xs={12} md={8}>
          <BasicTransferStatusPanel />
        </Grid>
        
        {/* íŒŒì¼ ë¸Œë¼ìš°ì € */}
        <Grid item xs={12}>
          <BasicFileBrowser />
        </Grid>
        
      </Grid>
    </Container>
  );
}
```

### 4.2 ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸

```jsx
// BasicFileUploadZone.jsx
function BasicFileUploadZone({ onFilesSelected, maxSize, acceptedTypes }) {
  const [isDragOver, setIsDragOver] = useState(false);
  const [selectedTargets, setSelectedTargets] = useState([]);
  
  const handleDrop = (files) => {
    const validFiles = files.filter(file => 
      acceptedTypes.includes(path.extname(file.name).toLowerCase())
    );
    
    if (validFiles.length > 0) {
      onFilesSelected(validFiles, selectedTargets);
    }
  };
  
  return (
    <Paper sx={{ p: 3, border: isDragOver ? '2px dashed #1976d2' : '2px dashed #ccc' }}>
      <Box textAlign="center">
        <CloudUploadIcon sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />
        <Typography variant="h6">íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</Typography>
        <Typography variant="body2" color="text.secondary">
          ì§€ì› í˜•ì‹: {acceptedTypes.join(', ')} | ìµœëŒ€ í¬ê¸°: {maxSize}
        </Typography>
        
        {/* ëŒ€ìƒ í´ë¼ì´ì–¸íŠ¸ ì„ íƒ */}
        <Box mt={2}>
          <ClientSelector 
            selected={selectedTargets}
            onChange={setSelectedTargets}
            label="ì „ì†¡ ëŒ€ìƒ ì„ íƒ"
          />
        </Box>
      </Box>
    </Paper>
  );
}
```

---

## ğŸ”§ 5. API ì„¤ê³„

### 5.1 ê¸°ë³¸ íŒŒì¼ ì „ì†¡ API

```javascript
// íŒŒì¼ ì—…ë¡œë“œ (ê¸°ë³¸)
POST /api/files/upload
Content-Type: multipart/form-data
Body: {
  files: [File1, File2...],
  targets: ["client1", "client2"],
  targetPath: "/media/videos",
  overwrite: true
}

// íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ê¸°ë³¸)
GET /api/files/{fileId}/download?client={clientId}

// íŒŒì¼ ëª©ë¡ ì¡°íšŒ (ê¸°ë³¸)
GET /api/files?path={path}&client={clientId}&type={fileType}

// íŒŒì¼ ì‚­ì œ (ê¸°ë³¸)
DELETE /api/files/{fileId}?targets=["client1","client2"]

// íŒŒì¼ ì´ë™/ë³µì‚¬ (ê¸°ë³¸)
POST /api/files/{fileId}/copy
Body: {
  targetPath: "/new/path",
  clients: ["client1", "client2"],
  operation: "copy" // or "move"
}
```

---

## ğŸ“… 6. ê°œë°œ ì¼ì •

### Day 1-2: ê¸°ë°˜ êµ¬ì¡°
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„±
- [ ] ê¸°ë³¸ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [ ] íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ ê¸°ë³¸ ê¸°ëŠ¥

### Day 3-4: í´ë¼ì´ì–¸íŠ¸ ëª¨ë“ˆ
- [ ] í´ë¼ì´ì–¸íŠ¸ íŒŒì¼ ê´€ë¦¬ ëª¨ë“ˆ ê°œë°œ
- [ ] ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] íŒŒì¼ ë¸Œë¼ìš°ì € ê¸°ëŠ¥

### Day 5: í†µí•© ë° í…ŒìŠ¤íŠ¸
- [ ] ê¸°ë³¸ ê¸°ëŠ¥ í†µí•© í…ŒìŠ¤íŠ¸
- [ ] UI/UX ê²€ì¦
- [ ] ë¬¸ì„œí™”

---

## ğŸ¯ 7. ì„±ê³µ ê¸°ì¤€

### 7.1 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- [ ] 100MB íŒŒì¼ì„ 5ëŒ€ í´ë¼ì´ì–¸íŠ¸ì— 10ë¶„ ë‚´ ì „ì†¡
- [ ] ê¸°ë³¸ ì§„í–‰ë¥  í‘œì‹œ (10ì´ˆ ê°„ê²© ì—…ë°ì´íŠ¸)
- [ ] ë™ì‹œ ì „ì†¡ ìµœëŒ€ 5ê°œ ì²˜ë¦¬

### 7.2 ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­  
- [ ] UI ì‘ë‹µì„± 5ì´ˆ ì´ë‚´
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì„œë²„ 500MB ì´í•˜

### 7.3 ì‚¬ìš©ì„± ìš”êµ¬ì‚¬í•­
- [ ] ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ì§ê´€ì  ì—…ë¡œë“œ  
- [ ] ê¸°ë³¸ ì „ì†¡ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- [ ] ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ì—ëŸ¬ ì•Œë¦¼

---

## ğŸ”® 8. v2.5 ì—°ê³„ ê³ ë ¤ì‚¬í•­

### 8.1 í™•ì¥ í¬ì¸íŠ¸
- ì²­í¬ ê¸°ë°˜ ëŒ€ìš©ëŸ‰ íŒŒì¼ ì „ì†¡ ì¤€ë¹„
- íŒŒì¼ í•´ì‹œ ê¸°ë°˜ ì¤‘ë³µ ì œê±° ì¤€ë¹„
- ì‹¤ì‹œê°„ ì§„í–‰ë¥  WebSocket ì—°ê²° ì¤€ë¹„
- ê³ ê¸‰ ì „ì†¡ ê´€ë¦¬ì êµ¬ì¡° ì¤€ë¹„

---

*ì´ ë¬¸ì„œëŠ” v2.4 ê°œë°œ ê³¼ì •ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.* 