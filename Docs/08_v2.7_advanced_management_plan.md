# Switchboard Plus v2.7 - ê³ ê¸‰ ê´€ë¦¬ ê¸°ëŠ¥

## ğŸ“‹ 1. ê°œìš”

**ë²„ì „**: v2.7  
**ëª©ì **: íŒŒì¼ ë²„ì „ ê´€ë¦¬, ê³ ê¸‰ ê²€ìƒ‰, ë°±ì—… ë³µêµ¬ ë“± ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„  
**ì „ì œ ì¡°ê±´**: v2.6 ì™„ì„± (ë™ê¸°í™” ì‹œìŠ¤í…œ)  
**ê°œë°œ ê¸°ê°„**: 1ì£¼  

> ğŸ¯ **í•µì‹¬ ëª©í‘œ**: ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ íŒŒì¼ ê´€ë¦¬ + v2.8 ë™ì˜ìƒ ì¬ìƒ ì‹œìŠ¤í…œ ì™„ì „ ì¤€ë¹„

---

## ğŸ¯ 2. í•µì‹¬ ê¸°ëŠ¥

### 2.1 íŒŒì¼ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
```
ğŸ—‚ï¸ ë²„ì „ ê´€ë¦¬
â”œâ”€â”€ íŒŒì¼ ë²„ì „ ì¶”ì 
â”œâ”€â”€ ë¡¤ë°± ê¸°ëŠ¥
â”œâ”€â”€ ë³€ê²½ ì´ë ¥ ì¡°íšŒ
â””â”€â”€ ë°±ì—… ê´€ë¦¬

ğŸ“‹ ë²„ì „ ì •ì±…
â”œâ”€â”€ ìë™ ë²„ì „ ìƒì„±
â”œâ”€â”€ ë²„ì „ ë³´ì¡´ ê¸°ê°„ ì„¤ì •
â”œâ”€â”€ ë²„ì „ë³„ ë©”íƒ€ë°ì´í„° ê´€ë¦¬
â””â”€â”€ ë²„ì „ ë¹„êµ ë° ë³‘í•©
```

### 2.2 ê³ ê¸‰ ê²€ìƒ‰ ë° í•„í„°ë§
```
ğŸ” ê³ ê¸‰ ê²€ìƒ‰
â”œâ”€â”€ ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰
â”œâ”€â”€ ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê²€ìƒ‰
â”œâ”€â”€ íŒŒì¼ ë‚´ìš© ê²€ìƒ‰
â””â”€â”€ ì •ê·œì‹ ê²€ìƒ‰

ğŸ¯ ìŠ¤ë§ˆíŠ¸ í•„í„°ë§
â”œâ”€â”€ íŒŒì¼ í¬ê¸°ë³„ í•„í„°ë§
â”œâ”€â”€ ë‚ ì§œ ë²”ìœ„ í•„í„°ë§
â”œâ”€â”€ íŒŒì¼ í˜•ì‹ë³„ í•„í„°ë§
â””â”€â”€ ì‚¬ìš©ì ì •ì˜ í•„í„°
```

### 2.3 ë°±ì—… ë° ë³µêµ¬ ì‹œìŠ¤í…œ
```
ğŸ’¾ ë°±ì—… ì‹œìŠ¤í…œ
â”œâ”€â”€ ìë™ ë°±ì—… ìŠ¤ì¼€ì¤„ë§
â”œâ”€â”€ ì¦ë¶„ ë°±ì—…
â”œâ”€â”€ ì „ì²´ ë°±ì—…
â””â”€â”€ ë°±ì—… ë¬´ê²°ì„± ê²€ì¦

ğŸ”„ ë³µêµ¬ ì‹œìŠ¤í…œ
â”œâ”€â”€ ì „ì²´ ì‹œìŠ¤í…œ ë³µêµ¬
â”œâ”€â”€ ì„ íƒì  íŒŒì¼ ë³µêµ¬
â”œâ”€â”€ ì‹œì  ë³µêµ¬
â””â”€â”€ ë³µêµ¬ í…ŒìŠ¤íŠ¸
```

### 2.4 ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ê´€ë¦¬
```
ğŸ“Š ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ ì‹¤ì‹œê°„ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
â”œâ”€â”€ í´ë¼ì´ì–¸íŠ¸ë³„ ì‚¬ìš©ëŸ‰
â”œâ”€â”€ í´ë”ë³„ ì‚¬ìš©ëŸ‰ ë¶„ì„
â””â”€â”€ ì‚¬ìš©ëŸ‰ íŠ¸ë Œë“œ ë¶„ì„

ğŸ§¹ ì •ë¦¬ ë„êµ¬
â”œâ”€â”€ ì¤‘ë³µ íŒŒì¼ ì •ë¦¬
â”œâ”€â”€ ì„ì‹œ íŒŒì¼ ì •ë¦¬
â”œâ”€â”€ ì˜¤ë˜ëœ íŒŒì¼ ì •ë¦¬
â””â”€â”€ ì‚¬ìš©ëŸ‰ ìµœì í™” ì œì•ˆ
```

---

## ğŸ—ï¸ 3. ê¸°ìˆ  ì•„í‚¤í…ì²˜

### 3.1 ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ

```javascript
// ë²„ì „ ê´€ë¦¬ì
class VersionManager {
  constructor() {
    this.versionPolicy = {
      maxVersions: 10,
      retentionDays: 30,
      autoVersion: true,
      versionOnModify: true
    };
  }
  
  async createVersion(fileId, changeType, metadata = {}) {
    const file = await this.getFile(fileId);
    const version = {
      id: this.generateId(),
      fileId: fileId,
      versionNumber: await this.getNextVersionNumber(fileId),
      filePath: file.filePath,
      fileHash: file.fileHash,
      fileSize: file.fileSize,
      changeType: changeType, // 'create', 'modify', 'delete'
      metadata: {
        ...metadata,
        createdAt: new Date(),
        createdBy: this.getCurrentUser()
      },
      backupPath: await this.createBackup(file)
    };
    
    await this.saveVersion(version);
    return version;
  }
  
  async rollbackToVersion(fileId, versionNumber) {
    const version = await this.getVersion(fileId, versionNumber);
    if (!version) throw new Error('Version not found');
    
    // í˜„ì¬ íŒŒì¼ ë°±ì—…
    await this.createVersion(fileId, 'rollback', {
      reason: `Rollback to version ${versionNumber}`
    });
    
    // ë²„ì „ì—ì„œ ë³µì›
    await this.restoreFromBackup(version.backupPath, fileId);
    
    return {
      success: true,
      restoredVersion: versionNumber,
      backupCreated: true
    };
  }
  
  async getVersionHistory(fileId) {
    const versions = await this.getVersions(fileId);
    return versions.sort((a, b) => b.versionNumber - a.versionNumber);
  }
}
```

### 3.2 ê³ ê¸‰ ê²€ìƒ‰ ì—”ì§„

```javascript
// ê²€ìƒ‰ ì—”ì§„
class AdvancedSearchEngine {
  constructor() {
    this.index = new Map();
    this.searchIndex = new SearchIndex();
  }
  
  async search(query, options = {}) {
    const {
      searchType = 'all', // 'filename', 'content', 'metadata', 'all'
      fileTypes = [],
      sizeRange = null,
      dateRange = null,
      clients = [],
      limit = 100,
      offset = 0
    } = options;
    
    let results = [];
    
    // ê²€ìƒ‰ íƒ€ì…ë³„ ì²˜ë¦¬
    switch (searchType) {
      case 'filename':
        results = await this.searchByFilename(query);
        break;
      case 'content':
        results = await this.searchByContent(query);
        break;
      case 'metadata':
        results = await this.searchByMetadata(query);
        break;
      case 'all':
        results = await this.searchAll(query);
        break;
    }
    
    // í•„í„° ì ìš©
    results = await this.applyFilters(results, {
      fileTypes,
      sizeRange,
      dateRange,
      clients
    });
    
    // ì •ë ¬ ë° í˜ì´ì§•
    results = this.sortAndPaginate(results, limit, offset);
    
    return {
      results,
      total: results.length,
      query,
      filters: options
    };
  }
}
```

### 3.3 ë°±ì—… ë° ë³µêµ¬ ì‹œìŠ¤í…œ

```javascript
// ë°±ì—… ê´€ë¦¬ì
class BackupManager {
  constructor() {
    this.backupConfig = {
      autoBackup: true,
      backupInterval: 24 * 60 * 60 * 1000, // 24ì‹œê°„
      retentionDays: 30,
      backupLocation: '/backups',
      compression: true,
      encryption: false
    };
  }
  
  async createBackup(type = 'incremental') {
    const backupId = this.generateBackupId();
    const backupInfo = {
      id: backupId,
      type: type,
      startTime: new Date(),
      status: 'running',
      files: [],
      totalSize: 0
    };
    
    try {
      if (type === 'full') {
        await this.createFullBackup(backupInfo);
      } else {
        await this.createIncrementalBackup(backupInfo);
      }
      
      backupInfo.status = 'completed';
      backupInfo.endTime = new Date();
      backupInfo.duration = backupInfo.endTime - backupInfo.startTime;
      
      await this.saveBackupInfo(backupInfo);
      await this.cleanupOldBackups();
      
      return backupInfo;
    } catch (error) {
      backupInfo.status = 'failed';
      backupInfo.error = error.message;
      await this.saveBackupInfo(backupInfo);
      throw error;
    }
  }
}
```

### 3.4 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

```sql
-- íŒŒì¼ ë²„ì „ ê´€ë¦¬
CREATE TABLE file_versions (
    id INTEGER PRIMARY KEY,
    file_id INTEGER,
    version_number INTEGER,
    file_path VARCHAR(500),
    file_hash VARCHAR(64),
    file_size BIGINT,
    change_type VARCHAR(20),      -- 'create', 'modify', 'delete', 'rollback'
    metadata JSON,
    backup_path VARCHAR(500),
    created_at DATETIME,
    created_by VARCHAR(100),
    FOREIGN KEY (file_id) REFERENCES files(id)
);

-- ê²€ìƒ‰ ì¸ë±ìŠ¤
CREATE TABLE search_index (
    id INTEGER PRIMARY KEY,
    file_id INTEGER,
    index_type VARCHAR(20),       -- 'filename', 'content', 'metadata'
    token VARCHAR(255),
    position INTEGER,
    weight DECIMAL(5,2),
    created_at DATETIME,
    FOREIGN KEY (file_id) REFERENCES files(id)
);

-- ë°±ì—… ì •ë³´
CREATE TABLE backups (
    id INTEGER PRIMARY KEY,
    backup_type VARCHAR(20),      -- 'full', 'incremental'
    start_time DATETIME,
    end_time DATETIME,
    duration_seconds INTEGER,
    total_size BIGINT,
    file_count INTEGER,
    status VARCHAR(20),           -- 'running', 'completed', 'failed'
    error_message TEXT,
    backup_location VARCHAR(500),
    compression_ratio DECIMAL(5,2),
    created_at DATETIME
);

-- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í†µê³„
CREATE TABLE disk_usage_stats (
    id INTEGER PRIMARY KEY,
    client_id INTEGER,
    path VARCHAR(500),
    total_size BIGINT,
    used_size BIGINT,
    free_size BIGINT,
    file_count INTEGER,
    folder_count INTEGER,
    recorded_at DATETIME,
    FOREIGN KEY (client_id) REFERENCES clients(id)
);
```

---

## ğŸ¨ 4. UI/UX ì„¤ê³„

### 4.1 ë²„ì „ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤

```jsx
// VersionManagerPanel.jsx
function VersionManagerPanel({ fileId }) {
  const [versions, setVersions] = useState([]);
  const [selectedVersion, setSelectedVersion] = useState(null);
  
  return (
    <Paper sx={{ p: 2 }}>
      <Typography variant="h6" gutterBottom>
        íŒŒì¼ ë²„ì „ ê´€ë¦¬
      </Typography>
      
      <Grid container spacing={2}>
        {/* ë²„ì „ ëª©ë¡ */}
        <Grid item xs={12} md={6}>
          <VersionList 
            versions={versions}
            selectedVersion={selectedVersion}
            onVersionSelect={setSelectedVersion}
          />
        </Grid>
        
        {/* ë²„ì „ ìƒì„¸ ì •ë³´ */}
        <Grid item xs={12} md={6}>
          {selectedVersion && (
            <VersionDetails 
              version={selectedVersion}
              onRollback={handleRollback}
            />
          )}
        </Grid>
      </Grid>
    </Paper>
  );
}
```

### 4.2 ê³ ê¸‰ ê²€ìƒ‰ ì¸í„°í˜ì´ìŠ¤

```jsx
// AdvancedSearchPanel.jsx
function AdvancedSearchPanel() {
  const [searchQuery, setSearchQuery] = useState('');
  const [searchOptions, setSearchOptions] = useState({
    searchType: 'all',
    fileTypes: [],
    sizeRange: null,
    dateRange: null
  });
  const [searchResults, setSearchResults] = useState([]);
  
  return (
    <Paper sx={{ p: 2 }}>
      <Typography variant="h6" gutterBottom>
        ê³ ê¸‰ ê²€ìƒ‰
      </Typography>
      
      {/* ê²€ìƒ‰ í¼ */}
      <Box mb={2}>
        <TextField
          fullWidth
          label="ê²€ìƒ‰ì–´"
          value={searchQuery}
          onChange={(e) => setSearchQuery(e.target.value)}
          placeholder="íŒŒì¼ëª…, ë‚´ìš©, ë©”íƒ€ë°ì´í„° ê²€ìƒ‰..."
        />
      </Box>
      
      {/* ê²€ìƒ‰ ì˜µì…˜ */}
      <Grid container spacing={2} mb={2}>
        <Grid item xs={12} md={3}>
          <FormControl fullWidth>
            <InputLabel>ê²€ìƒ‰ íƒ€ì…</InputLabel>
            <Select
              value={searchOptions.searchType}
              onChange={(e) => setSearchOptions({
                ...searchOptions, 
                searchType: e.target.value
              })}
            >
              <MenuItem value="all">ì „ì²´</MenuItem>
              <MenuItem value="filename">íŒŒì¼ëª…</MenuItem>
              <MenuItem value="content">ë‚´ìš©</MenuItem>
              <MenuItem value="metadata">ë©”íƒ€ë°ì´í„°</MenuItem>
            </Select>
          </FormControl>
        </Grid>
      </Grid>
      
      {/* ê²€ìƒ‰ ë²„íŠ¼ */}
      <Button
        variant="contained"
        onClick={handleSearch}
        startIcon={<SearchIcon />}
      >
        ê²€ìƒ‰
      </Button>
    </Paper>
  );
}
```

---

## ğŸ”§ 5. API ì„¤ê³„

### 5.1 ë²„ì „ ê´€ë¦¬ API

```javascript
// ë²„ì „ ìƒì„±
POST /api/versions
Body: {
  fileId: "uuid",
  changeType: "modify",
  metadata: {
    reason: "User modification",
    tags: ["important", "updated"]
  }
}

// ë²„ì „ ëª©ë¡ ì¡°íšŒ
GET /api/files/{fileId}/versions

// ë²„ì „ ë¡¤ë°±
POST /api/versions/{versionId}/rollback
Body: {
  reason: "Rollback reason"
}
```

### 5.2 ê²€ìƒ‰ API

```javascript
// ê³ ê¸‰ ê²€ìƒ‰
POST /api/search
Body: {
  query: "search term",
  searchType: "all",
  fileTypes: [".mp4", ".jpg"],
  sizeRange: { min: 1024, max: 1048576 },
  dateRange: { start: "2024-01-01", end: "2024-12-31" },
  limit: 100,
  offset: 0
}
```

### 5.3 ë°±ì—… API

```javascript
// ë°±ì—… ìƒì„±
POST /api/backups
Body: {
  type: "full", // or "incremental"
  description: "Manual backup"
}

// ë°±ì—… ëª©ë¡ ì¡°íšŒ
GET /api/backups?page=1&limit=10

// ë°±ì—… ë³µêµ¬
POST /api/backups/{backupId}/restore
Body: {
  restoreType: "full", // or "selective"
  targetPaths: ["/path1", "/path2"],
  overwrite: false
}
```

---

## ğŸ“… 6. ê°œë°œ ì¼ì •

### Day 1-2: ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] íŒŒì¼ ë²„ì „ ì¶”ì  ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ë²„ì „ ë¹„êµ ë° ë¡¤ë°± ê¸°ëŠ¥
- [ ] ë²„ì „ ì •ì±… ê´€ë¦¬

### Day 3-4: ê²€ìƒ‰ ë° ë°±ì—… ì‹œìŠ¤í…œ
- [ ] ê³ ê¸‰ ê²€ìƒ‰ ì—”ì§„ êµ¬í˜„
- [ ] ë°±ì—… ë° ë³µêµ¬ ì‹œìŠ¤í…œ
- [ ] ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ê´€ë¦¬

### Day 5: UI ë° í†µí•©
- [ ] ë²„ì „ ê´€ë¦¬ UI êµ¬í˜„
- [ ] ê²€ìƒ‰ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- [ ] ë°±ì—… ê´€ë¦¬ UI êµ¬í˜„

---

## ğŸ¯ 7. ì„±ê³µ ê¸°ì¤€

### 7.1 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- [ ] íŒŒì¼ ë²„ì „ 10ê°œê¹Œì§€ ê´€ë¦¬
- [ ] ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„ 3ì´ˆ ì´ë‚´
- [ ] ë°±ì—… ë³µêµ¬ ì„±ê³µë¥  99%
- [ ] ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ë¶„ì„ ì •í™•ë„ 95%

### 7.2 ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­  
- [ ] ë²„ì „ ìƒì„± ì‹œê°„ 5ì´ˆ ì´ë‚´
- [ ] ê²€ìƒ‰ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸ 10ì´ˆ ì´ë‚´
- [ ] ë°±ì—… ìƒì„± ì†ë„ 100MB/ë¶„
- [ ] UI ì‘ë‹µì„± 2ì´ˆ ì´ë‚´

### 7.3 ì‚¬ìš©ì„± ìš”êµ¬ì‚¬í•­
- [ ] ë²„ì „ ê´€ë¦¬ ì§ê´€ì  ì¸í„°í˜ì´ìŠ¤
- [ ] ê²€ìƒ‰ ê²°ê³¼ ì‹¤ì‹œê°„ í•„í„°ë§
- [ ] ë°±ì—… ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

---

## ğŸ”® 8. v2.8 ì—°ê³„ ê³ ë ¤ì‚¬í•­

### 8.1 ì™„ì „ ì¤€ë¹„ ìƒíƒœ
- âœ… íŒŒì¼ ì „ì†¡ ì‹œìŠ¤í…œ ì™„ì„±
- âœ… ë™ê¸°í™” ì‹œìŠ¤í…œ ì™„ì„±
- âœ… ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ì„±
- âœ… ê²€ìƒ‰ ë° ë°±ì—… ì‹œìŠ¤í…œ ì™„ì„±
- âœ… v2.8 ë™ì˜ìƒ ì¬ìƒ ì‹œìŠ¤í…œ ê°œë°œ ì¤€ë¹„ ì™„ë£Œ

### 8.2 v2.8 ì—°ê³„ í¬ì¸íŠ¸
- ë¯¸ë””ì–´ íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ì¤€ë¹„
- ë™ê¸°í™” ê·¸ë£¹ í”„ë¦¬ì…‹ ì¤€ë¹„
- íŒŒì¼ ê´€ë¦¬ API ì™„ì„±
- ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ

---

*ì´ ë¬¸ì„œëŠ” v2.7 ê°œë°œ ê³¼ì •ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.* 